<!doctype html>
<html lang="{{ lang }}">
<head>
<meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="IE=edge">
<title>{{ l.title }}</title>
<script>
"use strict";
// tweaks
!(function(a){function e(){}for(var b="assert clear count debug dir dirxml error exception group groupCollapsed groupEnd info log markTimeline profile profileEnd table time timeEnd timeline timelineEnd timeStamp trace warn".split(" "),c=b.length,d=a.console=a.console||{};c--;)a=b[c],d[a]||(d[a]=e)})(window);
!function(e){function t(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var o={};t.m=e,t.c=o,t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,o){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=o(1),u={passive:!0,capture:!1},i=["scroll","wheel","touchstart","touchmove","touchenter","touchend","touchleave","mouseout","mouseleave","mouseup","mousedown","mousemove","mouseenter","mousewheel","mouseover"],s=function(e,t){return void 0!==e?e:-1!==i.indexOf(t)&&u.passive},c=function(e){var t=Object.getOwnPropertyDescriptor(e,"passive");return t&&!0!==t.writable&&void 0===t.set?Object.assign({},e):e};if((0,r.eventListenerOptionsSupported)()){var p=EventTarget.prototype.addEventListener;!function(e){EventTarget.prototype.addEventListener=function(t,o,r){var i="object"===(void 0===r?"undefined":n(r))&&null!==r,p=i?r.capture:r;r=i?c(r):{},r.passive=s(r.passive,t),r.capture=void 0===p?u.capture:p,e.call(this,t,o,r)},EventTarget.prototype.addEventListener._original=e}(p)}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.eventListenerOptionsSupported=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e}}]);
</script>

{{>head_meta}}
{{>head_android_favicons}}
{{>head_android_custom}}

<style>
/* Material icons */
@font-face {
  font-family: 'Material Icons';
  font-style: normal;
  font-weight: 400;
  src: local('Material Icons'),
       local('materialicons-regular'),
       url(/webfonts/materialicons-regular.woff2) format('woff2');
}
.material-icons {
  font-family: 'Material Icons';
  font-weight: normal;
  font-style: normal;
  font-size: 24px;
  display: inline-block;
  line-height: 1;
  text-transform: none;
  letter-spacing: normal;
  word-wrap: normal;
  white-space: nowrap;
  direction: ltr;
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
  -moz-osx-font-smoothing: grayscale;
  font-feature-settings: 'liga';
}
.material-icons.md-18{font-size:18px}
.material-icons.md-24{font-size:24px}
.material-icons.md-36{font-size:36px}
.material-icons.md-48{font-size:48px}
/* CSS reset */
html{min-width:320px!important}
html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none}
/* CSS helpers */
.bold{font-weight:bold!important}.hidden{display:none!important}.mono{font-family:Consolas,Monaco,'Lucida Console','Liberation Mono','DejaVu Sans Mono','Bitstream Vera Sans Mono','Courier New',monospace}.noscript{font-size:0.8em}.pointer{cursor:pointer}.text-center{text-align:center}.text-monospace{font-family:'Courier New',Courier,monospace}
/* offline */
#offline-message{opacity:0;visibility:hidden;padding:10px;position:fixed;bottom:10px;left:0;font-size:1em;transition:0.5s;font-family:Arial!important;font-size:2em}
[offline="true"] #offline-message{visibility:visible;opacity:1;z-index:9999999}
</style>
<link rel="stylesheet" href="css/materialize.min.css">
<link rel="stylesheet" href="css/android.css">
<script src="js/jquery.min.js"></script>
<script src="js/materialize.min.js"></script>
<script>

(function (w, undefined) {
  var a = w.GSC || {};
  a.init = [];
  a.names = [];
  a.lang = "{{ lang }}";
  a.AutoInit = function (debug) {
    for (var a = window.GSC.init, n = window.GSC.names, i = 0, l = a.length; i < l; i++) try {
      a[i]();
      if (debug) console.log("fn #" + (i + 1) + ": " + n[i])
    } catch (e) {}
  }
  w.GSC = a;
})(window);

</script>
</head>

<body style="display:none">
<script>

// append js
if (localStorage && localStorage["app_js"]) {
  var el = document.createElement("script");
  el.type = "text/javascript";
  el.innerHTML = localStorage["app_js"];
  document.getElementsByTagName('body')[0].append(el);
}

// append css
if (localStorage && localStorage["app_css"]) {
  var el = document.createElement("style");
  el.type = "text/css";
  el.innerHTML = localStorage["app_css"];
  document.getElementsByTagName('body')[0].append(el);
}

// build vars
var dbg = parseInt("{{ dbg }}");
var app_version = "{{ VERSION }}";
var temp_lang = "{{ lang }}";
if (parseInt("{{ loadlocal }}")) {
  var update_url = "{{ android_updateurl_local }}";
} else {
  var update_url = "{{ android_updateurl_remote }}";
}
if (dbg) console.log("update URL: " + update_url);

// consistency check
if (localStorage && localStorage["app_version"]) {
  if (localStorage["app_version"] != app_version) {
    localStorage.clear();
  }
} else {
  localStorage.clear();
}
localStorage["app_version"] = app_version;

// JS update
$.get(update_url + "android/js?" + Date.now(), function(data) {
  if (dbg) console.log("update JS", data);
  if (data.data && data.data.version) {
    var app_version = data.data.version;
    var app_js = "";
    if (data.data.js) {
      app_js = data.data.js;
    }
  }
  if (app_version && localStorage && localStorage["app_js_version"]) {
    if (localStorage["app_js_version"] != app_version) {
      if (app_version) {
        localStorage["app_js_version"] = app_version;
        localStorage["app_js"] = app_js;
        window.location.reload(1);
      }
    }
  } else {
      if (app_version) {
        localStorage["app_js_version"] = app_version;
        localStorage["app_js"] = app_js;
        window.location.reload(1);
      }
  }
});

// CSS update
$.get(update_url + "android/css?" + Date.now(), function(data) {
  if (dbg) console.log("update CSS", data);
  if (data.data && data.data.version) {
    var app_version = data.data.version;
    var app_css = "";
    if (data.data.css) {
      app_css = data.data.css;
    }
  }
  if (app_version && localStorage && localStorage["app_css_version"]) {
    if (localStorage["app_css_version"] != app_version) {
      if (app_version) {
        localStorage["app_css_version"] = app_version;
        localStorage["app_css"] = app_css;
        window.location.reload(1);
      }
    }
  } else {
      if (app_version) {
        localStorage["app_css_version"] = app_version;
        localStorage["app_css"] = app_css;
        window.location.reload(1);
      }
  }
});

</script>

{{>android_functions}}
{{>android}}

<script>
window.addEventListener("load", function () {
  (function ($, undefined) {
    $(function () {
      M.AutoInit();
      // "true" to debug
      GSC.AutoInit(true);
    });
  })($, window);
});
</script>

</body>
</html>